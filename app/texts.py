from telegram import InlineKeyboardButton, InlineKeyboardMarkup

# Словарь с ключами для callback_data и полными именами авторок
AUTHORS = {
    "litvinova": "Рената Литвинова",
    "ranevskaya": "Фаина Раневская",
    "brik": "Лиля Брик",
    "tolstaya": "Татьяна Толстая",
}

# Наборы цитат. Это оригинальные фразы, сгенерированные в стиле авторок,
# а не дословные заимствования из защищённых авторским правом источников.
QUOTES = {
    "litvinova": [
        "Жизнь — это кино, где сценарий мы дописываем каждый день.",
        "Немного странности — лучшая защита от скуки.",
        "Главное — не возраст, а степень внутренней свободы.",
        "Иногда молчание говорит обо мне лучше любых слов.",
        "Я не против реальности, я против её плохого монтажа.",
    ],
    "ranevskaya": [
        "Юмор — это когда боль уже научилась смеяться.",
        "Маску снять проще, чем привычку её носить.",
        "С годами не мудреешь — просто ленишься спорить с глупостью.",
        "Если уж падать, то хотя бы в сторону собственного счастья.",
        "Интеллигент — это тот, кому совестно даже мысленно хамить.",
    ],
    "brik": [
        "Любовь живёт там, где ей не дают заскучать.",
        "Чувства требуют смелости, а не идеальных условий.",
        "Гораздо честнее признаться в слабости, чем притворяться холодной.",
        "Женщина становится музой, когда перестаёт ждать разрешения.",
        "Страсть — это когда мысли не успевают за сердцем.",
    ],
    "tolstaya": [
        "Слово — это дом, в котором поселяется смысл.",
        "Человек — это его память о чудесах.",
        "Иногда одна фраза меняет судьбу сильнее, чем целая жизнь.",
        "Самое интересное происходит в тишине между строк.",
        "Грусть — это тень глубины, а не признак слабости.",
    ],
}

START_MESSAGE = (
    "Здравствуйте! Я бот, который делится цитатами известных женщин.\n\n"
    "Выберите авторку, чьи слова хотите услышать сегодня:"
)

HELP_MESSAGE = (
    "Я помогу вам получить цитату от одной из четырёх авторок:\n\n"
    "• Рената Литвинова\n"
    "• Фаина Раневская\n"
    "• Лиля Брик\n"
    "• Татьяна Толстая\n\n"
    "Просто нажмите на имя на клавиатуре — и я отправлю вам цитату.\n"
    "Вы можете нажимать на имена сколько угодно раз, чтобы получать новые фразы."
)


def build_authors_keyboard() -> InlineKeyboardMarkup:
    """Создаёт inline-клавиатуру с выбором авторок."""
    keyboard = [
        [
            InlineKeyboardButton(AUTHORS["litvinova"], callback_data="litvinova"),
            InlineKeyboardButton(AUTHORS["ranevskaya"], callback_data="ranevskaya"),
        ],
        [
            InlineKeyboardButton(AUTHORS["brik"], callback_data="brik"),
            InlineKeyboardButton(AUTHORS["tolstaya"], callback_data="tolstaya"),
        ],
    ]
    return InlineKeyboardMarkup(keyboard)


def build_quote_text(full_name: str, quote: str) -> str:
    """Формирует текст ответа с цитатой."""
    return (
        f"Цитата: {full_name}\n\n"
        f"«{quote}»\n\n"
        "Нажмите на имя на клавиатуре, чтобы получить ещё одну цитату или выбрать другую авторку."
    )
